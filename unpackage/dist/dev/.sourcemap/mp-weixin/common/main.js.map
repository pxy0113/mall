{"version":3,"sources":["webpack:///D:/VUEJS/mall/main.js","webpack:///D:/VUEJS/mall/App.vue?502b","webpack:///D:/VUEJS/mall/App.vue?c1ed","webpack:///D:/VUEJS/mall/App.vue","webpack:///D:/VUEJS/mall/App.vue?59d6","webpack:///D:/VUEJS/mall/App.vue?77f5","webpack:///D:/VUEJS/mall/common/tool/toolBox.js","webpack:///D:/VUEJS/mall/common/api/requestConfig.js","webpack:///D:/VUEJS/mall/store/index.js","webpack:///D:/VUEJS/mall/wxcomponents/index.js"],"names":["Vue","prototype","$store","store","config","productionTip","$tools","tools","App","mpType","$BASIC_URL","$postRequest","postRequest","$yLoading","$yPrompt","app","$mount","getLocalTime","nS","Date","parseInt","toLocaleString","replace","getTimeMinute","hour12","isEmpty","obj","length","trim","login","console","log","getSkeyAndOpenId","code","filterObj","arr","objAr","i","k","value","Object","Array","DataType","tgt","type","dataType","toString","call","toLowerCase","isFull","data","keys","isArray","objRemove","reduce","cur","next","id","push","strLen","str","len","charCodeAt","transfer","text","s","tranNumber","num","point","integer","numStr","decimal","substring","parseFloat","vm","asynGlobal","Promise","resolve","setTimeout","setErrlog","_url","_msg","_code","_type","url","msg","transmitObj","TOKEN","wx","getStorageSync","PUBLIC_HEADER","defaultParam","hasToken","isLoad","allSuccess","allError","success","complete","param","assign","token","uni","getNetworkType","res","networkType","hide","stopPullDownRefresh","showToast","title","icon","duration","request","method","header","info","statusCode","result","errMsg","fail","err","use","Vuex","Store","state","cartList","mutations","setCartList","list","actions","setCart","commit","getCtx","selector","ctx","getCurrentPages","componentCtx","selectComponent","error"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AAUA,+D,0vBATAA,aAAIC,SAAJ,CAAcC,MAAd,GAAuBC,cAAvB,CAEAH,aAAII,MAAJ,CAAWC,aAAX,GAA2B,KAA3B,CACAL,aAAIC,SAAJ,CAAcK,MAAd,GAAuBC,gBAAvB,C,CAA6B;AAC7BC,aAAIC,MAAJ,GAAa,KAAb,CACAT,aAAIC,SAAJ,CAAcS,UAAd,GAA2B,mCAA3B,C,CAA+D;AAC/DV,aAAIC,SAAJ,CAAcU,YAAd,GAA6BC,0BAA7B,C,CAAyC;AAEzC;AAEAZ,aAAIC,SAAJ,CAAcY,SAAd,GAA0BA,gBAA1B,C,CAAoC;AACpCb,aAAIC,SAAJ,CAAca,QAAd,GAAyBA,eAAzB,C,CAAkC;AAElC;AACA;AACA;AAGA,IAAMC,GAAG,GAAG,IAAIf,YAAJ;AACLQ,YADK;AAEXL,OAAK,EAALA,cAFW,IAAZ;;AAIAY,GAAG,CAACC,MAAJ,G;;;;;;;;;;;;;;AC5BA;AAAA;AAAA;AAAA;AAAA;AAAA;AACuD;AACL;AACa;;;AAG/D;AACkL;AAClL,gBAAgB,4LAAU;AAC1B,EAAE,yEAAM;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAYf;AACD;AACe,gF;;;;;;;;;;;AClCf;AAAA;AAAA;AAAA;AAAkgC,CAAgB,2/BAAG,EAAC,C;;;;;;;;;;;;ACCthC;AACA;AACA;AACA,GAHA;AAIA;AACA;AACA,GANA;AAOA;AACA;AACA,GATA,E;;;;;;;;;;;ACDA;AAAA;AAAA;AAAA;AAAmpC,CAAgB,ioCAAG,EAAC,C;;;;;;;;;;ACAvqC,uC;;;;;;;;;;;;sGCAe;AACdC,cADc,wBACAC,EADA,EACG,CAAC;AACjB,WAAO,IAAIC,IAAJ,CAASC,QAAQ,CAACF,EAAD,CAAR,GAAe,IAAxB,EAA8BG,cAA9B,GAA+CC,OAA/C,CAAuD,KAAvD,EAA8D,GAA9D,EAAmEA,OAAnE,CAA2E,mBAA3E,EAAgG,EAAhG,CAAP;AACA,GAHa;AAIdC,eAJc,yBAIAL,EAJA,EAIG,CAAC;AACjB,WAAO,IAAIC,IAAJ,CAASC,QAAQ,CAACF,EAAD,CAAR,GAAe,IAAxB,EAA8BG,cAA9B,CAA6C,SAA7C,EAAwD,EAACG,MAAM,EAAE,KAAT,EAAxD,EAAyEF,OAAzE,CAAiF,KAAjF,EAAwF,GAAxF,EAA6FA,OAA7F,CAAqG,UAArG,EAAiH,EAAjH,CAAP;AACA,GANa;AAOdG,SAPc,mBAONC,GAPM,EAOF,CAAC;AACZ,QAAG,OAAOA,GAAP,IAAc,WAAd,IAA6BA,GAAG,IAAI,IAApC,IAA4CA,GAAG,IAAI,EAAnD,IAA0DA,GAAG,CAACC,MAAJ,GAAW,CAAX,IAAgBD,GAAG,CAACE,IAAJ,GAAWD,MAAX,IAAqB,CAAlG,EAAqG;AACpG,aAAO,IAAP;AACA,KAFD,MAEK;AACJ,aAAO,KAAP;AACA;AACD,GAba;AAcdE,OAdc,mBAcP;AACNC,WAAO,CAACC,GAAR,CAAY,QAAZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAzBa;AA0BdC,kBA1Bc,4BA0BGC,IA1BH,EA0BQ;AACrBH,WAAO,CAACC,GAAR,CAAYE,IAAZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GA5Ca;;AA8CdC,WA9Cc,qBA8CJC,GA9CI,EA8CA,CAAE;AACf,QAAIC,KAAK,GAAG,EAAZ;AACA,SAAK,IAAIC,CAAT,IAAcF,GAAd,EAAmB;AAClB,UAAIG,CAAC,GAAGD,CAAR;AACA,UAAIE,KAAK,GAAGJ,GAAG,CAACE,CAAD,CAAf;AACA,UAAIE,KAAK,YAAYC,MAAjB,IAA2BD,KAAK,YAAYE,KAAhD,EAAuD;AACtD,YAAIF,KAAK,CAACZ,MAAN,KAAiB,CAArB,EAAwB;AACvBS,eAAK,CAACE,CAAD,CAAL,GAAWC,KAAX;AACA;AACD,OAJD,MAIO;AACN,YAAI,CAACd,OAAO,CAACc,KAAD,CAAZ,EAAqB;AACpBH,eAAK,CAACE,CAAD,CAAL,GAAWC,KAAX;AACA;AACD;AACD;AACD,WAAOH,KAAP;AACA,GA9Da;AA+DdM,UA/Dc,oBA+DLC,GA/DK,EA+DDC,IA/DC,EA+DI,CAAC;AAClB,QAAMC,QAAQ,GAAGL,MAAM,CAACvC,SAAP,CAAiB6C,QAAjB,CAA0BC,IAA1B,CAA+BJ,GAA/B,EAAoCrB,OAApC,CAA4C,YAA5C,EAA0D,EAA1D,EAA8DA,OAA9D,CAAsE,KAAtE,EAA6E,EAA7E,EAAiF0B,WAAjF,EAAjB;AACG,WAAOJ,IAAI,GAAGC,QAAQ,KAAKD,IAAhB,GAAuBC,QAAlC;AACH,GAlEa;AAmEdI,QAnEc,kBAmEPC,IAnEO,EAmEF,CAAE;AACZ,QAAGR,QAAQ,CAACQ,IAAD,EAAO,QAAP,CAAX,EAA4B,CAAC;AAC5B,UAAG,CAACV,MAAM,CAACW,IAAP,CAAYD,IAAZ,EAAkBvB,MAAtB,EAA6B;AAC5B,eAAO,IAAP;AACA,OAFD,MAEK;AACJ,eAAO,KAAP;AACA;AACD,KAND,MAMM,IAAGe,QAAQ,CAACQ,IAAD,EAAO,OAAP,CAAX,EAA2B;AAChC,UAAGT,KAAK,CAACW,OAAN,CAAcF,IAAd,KAAqB,CAACA,IAAI,CAACvB,MAA9B,EAAqC;AACpC,eAAO,IAAP;AACA,OAFD,MAEK;AACL,eAAO,KAAP;AACC;AACD,KANK,MAMC,IAAG,OAAOD,GAAP,IAAc,WAAd,IAA6BA,GAAG,IAAI,IAApC,IAA4CA,GAAG,IAAI,EAAnD,IAA0DA,GAAG,CAACC,MAAJ,GAAW,CAAX,IAAgBD,GAAG,CAACE,IAAJ,GAAWD,MAAX,IAAqB,CAAlG,EAAqG;AAC5G,aAAO,IAAP;AACA,KAFO,MAEH;AACJ,aAAO,KAAP;AACA;AACD,GArFa;AAsFd0B,WAtFc,qBAsFJlB,GAtFI,EAsFA,CAAE;AACf,QAAIT,GAAG,GAAG,EAAV;AACAS,OAAG,GAAGA,GAAG,CAACmB,MAAJ,CAAW,UAACC,GAAD,EAAMC,IAAN,EAAe;AAC/B9B,SAAG,CAAC8B,IAAI,CAACC,EAAN,CAAH,GAAe,EAAf,GAAoB/B,GAAG,CAAC8B,IAAI,CAACC,EAAN,CAAH,GAAe,KAAI,IAAIF,GAAG,CAACG,IAAJ,CAASF,IAAT,CAA3C;AACA,aAAOD,GAAP;AACA,KAHK,EAGH,EAHG,CAAN;AAIA,WAAOpB,GAAP;AACA,GA7Fa;AA8FdwB,QA9Fc,kBA8FPC,GA9FO,EA8FH,CAAE;AACT,QAAIC,GAAG,GAAG,CAAV;AACA,SAAK,IAAIxB,CAAC,GAAC,CAAX,EAAcA,CAAC,GAACuB,GAAG,CAACjC,MAApB,EAA4BU,CAAC,EAA7B,EAAiC;AAC7B,UAAIuB,GAAG,CAACE,UAAJ,CAAezB,CAAf,IAAkB,GAAlB,IAAyBuB,GAAG,CAACE,UAAJ,CAAezB,CAAf,KAAmB,EAAhD,EAAoD;AAC/CwB,WAAG,IAAI,CAAP;AACH,OAFF,MAEQ;AACHA,WAAG;AACN;AACJ;AACF,WAAOA,GAAP;;AAEH,GAzGa;AA0GdE,UA1Gc,oBA0GLC,IA1GK,EA0GA,CAAE;AACV,QAAIC,CAAC,GAAG,EAAR;AACE,QAAID,IAAI,CAACrC,MAAL,IAAe,CAAnB,EAAsB,OAAO,EAAP;AACtBsC,KAAC,GAAGD,IAAI,CAAC1C,OAAL,CAAa,QAAb,EAAuB,GAAvB,CAAJ;AACA2C,KAAC,GAAGA,CAAC,CAAC3C,OAAF,CAAU,OAAV,EAAmB,GAAnB,CAAJ;AACA2C,KAAC,GAAGA,CAAC,CAAC3C,OAAF,CAAU,OAAV,EAAmB,GAAnB,CAAJ;AACA2C,KAAC,GAAGA,CAAC,CAAC3C,OAAF,CAAU,SAAV,EAAqB,GAArB,CAAJ;AACA2C,KAAC,GAAGA,CAAC,CAAC3C,OAAF,CAAU,QAAV,EAAoB,IAApB,CAAJ;AACA2C,KAAC,GAAGA,CAAC,CAAC3C,OAAF,CAAU,SAAV,EAAqB,IAArB,CAAJ;AACA2C,KAAC,GAAGA,CAAC,CAAC3C,OAAF,CAAU,SAAV,EAAqB,IAArB,CAAJ;AACA,WAAO2C,CAAP;AACP,GArHa;AAsHd;;;;AAIAC,YA1Hc,sBA0HHC,GA1HG,EA0HEC,KA1HF,EA0HQ;AACpB,QAAIC,OAAO,GAAGjD,QAAQ,CAAC+C,GAAD,CAAtB;AACM,QAAIG,MAAM,GAAGD,OAAO,CAACvB,QAAR,EAAb;AACA,QAAIwB,MAAM,CAAC3C,MAAP,GAAgB,CAApB,EAAuB,CAAC;AACpB,aAAO2C,MAAM,GAAG,GAAhB;AACH,KAFD,MAEM,IAAIA,MAAM,CAAC3C,MAAP,GAAgB,CAApB,EAAuB,CAAE;AAC3B,UAAI4C,OAAO,GAAGD,MAAM,CAACE,SAAP,CAAiBF,MAAM,CAAC3C,MAAP,GAAgB,CAAjC,EAAoC2C,MAAM,CAAC3C,MAAP,GAAgB,CAAhB,GAAoByC,KAAxD,CAAd;AACA,aAAOK,UAAU,CAACrD,QAAQ,CAACiD,OAAO,GAAG,SAAX,CAAR,GAAgC,GAAhC,GAAsCE,OAAvC,CAAV,GAA4D,GAAnE;AACH,KAHK,MAGA,IAAID,MAAM,CAAC3C,MAAP,GAAgB,CAApB,EAAuB,CAAC;AAC1B,UAAI4C,QAAO,GAAGD,MAAM,CAACE,SAAP,CAAiBF,MAAM,CAAC3C,MAAP,GAAgB,CAAjC,EAAoC2C,MAAM,CAAC3C,MAAP,GAAgB,CAAhB,GAAoByC,KAAxD,CAAd;AACA,aAAOK,UAAU,CAACrD,QAAQ,CAACiD,OAAO,GAAG,KAAX,CAAR,GAA4B,GAA5B,GAAkCE,QAAnC,CAAV,GAAwD,GAA/D;AACH;AACP,GAtIY,E;;;;AA0If;AACA;AACA;;;;;;;;;;;;;AC3IA;;;;AAIA,yF,6FAFA,IAAMG,EAAE,GAAG,IAAI1E,YAAJ,EAAX;AAGA;AACA,IAAM2E,UAAU,GAAG,IAAIC,OAAJ,CAAY,UAAAC,OAAO,EAAI;AACzCC,YAAU,CAAC,YAAM;AAChBD,WAAO,CAACH,EAAE,CAAChE,UAAJ,CAAP;AACA,GAFS,EAER,EAFQ,CAAV;AAGA,CAJkB,CAAnB;AAKAH,iBAAMsB,KAAN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIkD,SAAS,GAAG,SAAZA,SAAY,GAA0C,KAAzCC,IAAyC,uEAApC,EAAoC,KAAhCC,IAAgC,uEAA3B,EAA2B,KAAvBC,KAAuB,uEAAjB,EAAiB,KAAbC,KAAa,uEAAP,EAAO;AACzD,MAAIzD,GAAG,GAAG;AACT0D,OAAG,EAAEJ,IADI;AAETK,OAAG,EAAEJ,IAFI;AAGThD,QAAI,EAAEiD,KAHG;AAITtC,QAAI,EAAEuC;AACN;;AAED;AAPU,GAAV,CAQA,CATD;;AAWA;AACO,IAAMvE,WAAW,GAAG,SAAdA,WAAc,CAAC0E,WAAD,EAAiB;;AAE3C,MAAIC,KAAK,GAAGC,EAAE,CAACC,cAAH,CAAkB,OAAlB,CAAZ,CAF2C,CAEJ;;AAEvC,MAAIC,aAAa,GAAG;AACnB,oBAAgB,gCADG,CAC8B;AAD9B,GAApB;;AAIA;AACA;AACA;;AAEA,MAAIC,YAAY,GAAG;AAClBP,OAAG,EAAE,EADa,EACV;AACRlC,QAAI,EAAE,EAFY,EAET;AACT0C,YAAQ,EAAC,IAHS;AAIlBC,UAAM,EAAE,IAJU;AAKlBC,cAAU,EAAE,sBAAM,CAAE,CALF,EAKG;AACrBC,YAAQ,EAAE,oBAAM,CAAE,CANA,EAMC;AACnBC,WAAO,EAAE,mBAAM,CAAE,CAPC,EAOA;AAClBC,YAAQ,EAAE,oBAAM,CAAE,CARA,CAQA;AARA,GAAnB;;AAWA,MAAIC,KAAK,GAAG1D,MAAM,CAAC2D,MAAP,CAAc,EAAd,EAAkBR,YAAlB,EAAgCL,WAAhC,CAAZ;AACA,MAAGY,KAAK,CAACN,QAAT,EAAkB;AACjBF,iBAAa,CAACU,KAAd,GAAsBb,KAAtB;AACA;AACD,MAAIH,GAAG,GAAGV,EAAE,CAAChE,UAAH,GAAgBwF,KAAK,CAACd,GAAhC;;AAEAiB,KAAG,CAACC,cAAJ,CAAmB;AAClBN,WAAO,EAAE,iBAAAO,GAAG,EAAI;AACf,UAAGA,GAAG,CAACC,WAAJ,IAAmB,MAAtB,EAA6B;AAC5B,YAAGN,KAAK,CAACL,MAAT,EAAgB;AACfnB,YAAE,CAAC7D,SAAH,GAAe4F,IAAf;AACA;AACDJ,WAAG,CAACK,mBAAJ,GAJ4B,CAIF;AAC1BR,aAAK,CAACH,QAAN,CAAe,MAAf;AACAG,aAAK,CAACD,QAAN,CAAe,MAAf;AACAI,WAAG,CAACM,SAAJ,CAAc;AACbC,eAAK,EAAE,eADM;AAEbC,cAAI,EAAE,MAFO;AAGbC,kBAAQ,EAAE,IAHG,EAAd;;AAKA;AACA;AACDT,SAAG,CAACU,OAAJ,CAAY;AACX3B,WAAG,EAAHA,GADW;AAEXlC,YAAI,EAAEgD,KAAK,CAAChD,IAFD;AAGX8D,cAAM,EAAE,MAHG;AAIX;AACAC,cAAM,EAAEzE,MAAM,CAAC2D,MAAP,CAAc,EAAd,EAAkBT,aAAlB,CALG;AAMXM,eAAO,EAAE,iBAAAO,GAAG,EAAI;;AAEfzE,iBAAO,CAACoF,IAAR,CAAa;AACZ,qBAAS9B,GADG;AAEZ,qBAASc,KAAK,CAAChD,IAFH;AAGZ,qBAASqD,GAHG,EAAb;;;AAMA,cAAGA,GAAG,CAACY,UAAJ,IAAkB,GAArB,EAAyB;AACxB,gBAAGZ,GAAG,CAACrD,IAAP,EAAY;AACX,kBAAGqD,GAAG,CAACrD,IAAJ,CAASjB,IAAT,IAAiB,CAApB,EAAsB;AACrBiE,qBAAK,CAACJ,UAAN,CAAiBS,GAAG,CAACrD,IAArB,EADqB,CACM;AAC3B,eAFD,MAEK;AACJgD,qBAAK,CAACH,QAAN,CAAeQ,GAAG,CAACrD,IAAnB;AACA6B,yBAAS,CAACK,GAAD,EAAMmB,GAAG,CAACrD,IAAJ,CAASkE,MAAf,EAAuBb,GAAG,CAACrD,IAAJ,CAASjB,IAAhC,EAAsC,QAAtC,CAAT,CAFI,CAEqD;AACzDoE,mBAAG,CAACM,SAAJ,CAAc;AACbC,uBAAK,EAAEL,GAAG,CAACrD,IAAJ,CAASkE,MAAT,IAAmB,OADb;AAEbP,sBAAI,EAAE,MAFO;AAGbC,0BAAQ,EAAE,IAHG,EAAd;;AAKA;AACD;AACD,WAdD,MAcK;AACJZ,iBAAK,CAACH,QAAN,CAAeQ,GAAf;AACAxB,qBAAS,CAACK,GAAD,EAAMmB,GAAG,CAACc,MAAV,EAAkBd,GAAG,CAACY,UAAtB,EAAkC,gBAAlC,CAAT,CAFI,CAEyD;AAC7Dd,eAAG,CAACM,SAAJ,CAAc;AACbC,mBAAK,EAAE,UAAQL,GAAG,CAACY,UADN;AAEbN,kBAAI,EAAE,MAFO;AAGbC,sBAAQ,EAAE,IAHG,EAAd;;AAKA;;AAEDZ,eAAK,CAACF,OAAN,CAAcO,GAAG,CAACrD,IAAlB;;AAEA,SAxCU;AAyCXoE,YAAI,EAAE,cAAAC,GAAG,EAAI;;AAEZrB,eAAK,CAACH,QAAN,CAAewB,GAAf;;AAEAxC,mBAAS,CAACK,GAAD,EAAMmC,GAAG,CAACF,MAAV,EAAkB,EAAlB,EAAsB,QAAtB,CAAT,CAJY,CAI6B;;AAEzChB,aAAG,CAACM,SAAJ,CAAc;AACbC,iBAAK,EAAE,OADM;AAEbC,gBAAI,EAAE,MAFO;AAGbC,oBAAQ,EAAE,IAHG,EAAd;;;AAMA,SArDU;AAsDXb,gBAAQ,EAAE,kBAAAM,GAAG,EAAI;;AAEhB,cAAGL,KAAK,CAACL,MAAT,EAAgB;AACfnB,cAAE,CAAC7D,SAAH,GAAe4F,IAAf;AACA;;AAEDJ,aAAG,CAACK,mBAAJ,GANgB,CAMU;;AAE1BR,eAAK,CAACD,QAAN,CAAeM,GAAf;;AAEA,SAhEU,EAAZ;;AAkEA,KAlFiB,EAAnB;;;AAqFA,CAlHM,C;;;;;;;;;;;;;uFClDP;AACA,wE;;AAEAvG,aAAIwH,GAAJ,CAAQC,aAAR;;AAEA,IAAMtH,KAAK,GAAG,IAAIsH,cAAKC,KAAT,CAAe;AACzBC,OAAK,EAAE;AACHC,YAAQ,EAAC,EADN,EADkB;;AAIzBC,WAAS,EAAE;AACPC,eADO,uBACKH,KADL,EACYI,IADZ,EACkB;AACtBJ,WAAK,CAACC,QAAN,GAAiBG,IAAjB;AACF,KAHM,EAJc;;AASxBC,SAAO,EAAE;AACRC,WADQ,yBACS/E,IADT,EACc,KAAbgF,MAAa,QAAbA,MAAa;AACrBA,YAAM,CAAC,aAAD,EAAehF,IAAf,CAAN;AACA,KAHO,EATe,EAAf,CAAd,C;;;;AAgBe/C,K;;;;;;;;;;;;6GCrBf;;;;;;;;;;;;;;;;AAgBA,IAAMgI,MAAM,GAAG,SAATA,MAAS,CAACC,QAAD,EAAqE,KAA1DC,GAA0D,uEAApDC,eAAe,GAAGA,eAAe,GAAG3G,MAAlB,GAA2B,CAA9B,CAAqC;AAChF,MAAM4G,YAAY,GAAGF,GAAG,CAACG,eAAJ,CAAoBJ,QAApB,CAArB;AACA,MAAG,CAACG,YAAJ,EAAiB;AACbzG,WAAO,CAAC2G,KAAR,CAAc,cAAd;AACH;AACD,SAAOF,YAAP;AACH,CAND;;AAQA,IAAM1H,SAAS,GAAG,SAAZA,SAAY,QAACuH,QAAD,uEAAY,YAAZ,KAA0BC,GAA1B,0DAAkCF,MAAM,CAACC,QAAD,EAAWC,GAAX,CAAxC,EAAlB;AACA;8BACA,IAAMvH,QAAQ,GAAG,SAAXA,QAAW,QAACsH,QAAD,uEAAY,WAAZ,KAAyBC,GAAzB,0DAAiCF,MAAM,CAACC,QAAD,EAAWC,GAAX,CAAvC,EAAjB,C","file":"common/main.js","sourcesContent":["import 'uni-pages';\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport tools from 'common/tool/toolBox.js'\r\nimport { postRequest } from 'common/api/requestConfig.js';\r\nimport store from './store'\r\nVue.prototype.$store = store\r\n\r\nVue.config.productionTip = false\r\nVue.prototype.$tools = tools;//自己的工具类\r\nApp.mpType = 'app';\r\nVue.prototype.$BASIC_URL = 'http://m252t77964.wicp.vip:52923/';//测试地址\r\nVue.prototype.$postRequest = postRequest;//改版后的请求方法\r\n\r\n//全局组件\r\nimport { $yLoading, $yPrompt } from 'wxcomponents/index';\r\nVue.prototype.$yLoading = $yLoading;//加载动画\r\nVue.prototype.$yPrompt = $yPrompt;//页面提示\r\n\r\n//工具\r\n// import { getTimeMinute } from './utils/index.js';\r\n// Vue.prototype.$getTimeMinute = getTimeMinute;//时间戳转字符串插件\r\n\r\n\r\nconst app = new Vue({\r\n    ...App,\r\n\tstore\r\n})\r\napp.$mount()","var render, staticRenderFns\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\pxy\\\\Downloads\\\\HBuilderX.2.1.3.20190723.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\pxy\\\\Downloads\\\\HBuilderX.2.1.3.20190723.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('641c3ffe', component.options)\n    } else {\n      api.reload('641c3ffe', component.options)\n    }\n    \n  }\n}\ncomponent.options.__file = \"D:/VUEJS/mall/App.vue\"\nexport default component.exports","import mod from \"-!C:\\\\Users\\\\pxy\\\\Downloads\\\\HBuilderX.2.1.3.20190723.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\pxy\\\\Downloads\\\\HBuilderX.2.1.3.20190723.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\pxy\\\\Downloads\\\\HBuilderX.2.1.3.20190723.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--18-0!C:\\\\Users\\\\pxy\\\\Downloads\\\\HBuilderX.2.1.3.20190723.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\pxy\\\\Downloads\\\\HBuilderX.2.1.3.20190723.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\pxy\\\\Downloads\\\\HBuilderX.2.1.3.20190723.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\pxy\\\\Downloads\\\\HBuilderX.2.1.3.20190723.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\pxy\\\\Downloads\\\\HBuilderX.2.1.3.20190723.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\pxy\\\\Downloads\\\\HBuilderX.2.1.3.20190723.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--18-0!C:\\\\Users\\\\pxy\\\\Downloads\\\\HBuilderX.2.1.3.20190723.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\pxy\\\\Downloads\\\\HBuilderX.2.1.3.20190723.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\pxy\\\\Downloads\\\\HBuilderX.2.1.3.20190723.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=script&lang=js&\"","<script>\r\n\texport default {\r\n\t\tonLaunch: function () {\r\n\t\t\tconsole.log('App Launch')\r\n\t\t},\r\n\t\tonShow: function () {\r\n\t\t\tconsole.log('App Show')\r\n\t\t},\r\n\t\tonHide: function () {\r\n\t\t\tconsole.log('App Hide')\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t/*每个页面公共css */\r\n\t/*商品列表样式*/\r\n\t.xy-product-list{\r\n\t\twidth: 92%;\r\n\t\tpadding: 0 4% 3vw 4%; \r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\t.xy-product{\r\n\t\twidth: 48%;\r\n\t\tborder-radius: 20upx;\r\n\t\tbackground-color: #fff;\r\n\t\tmargin: 0 0 15upx 0;\r\n\t\tbox-shadow: 0upx 5upx 25upx rgba(0,0,0,0.1);\r\n\t}\r\n\t.xy-product-info{\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: flex-end;\r\n\t\twidth: 92%;\r\n\t\tpadding: 10upx 4% 10upx 4%;\t\r\n\t}\r\n\t.xy-product-img{\r\n\t\twidth: 100%;\r\n\t\tborder-radius: 20upx 20upx 0 0;\r\n\t}\r\n\t.xy-product-name{\r\n\t\twidth: 92%;\r\n\t\tpadding: 10upx 4%;\r\n\t\tdisplay: -webkit-box;\r\n\t\t-webkit-box-orient: vertical;\r\n\t\t-webkit-line-clamp: 2;\r\n\t\ttext-align: justify;\r\n\t\toverflow: hidden;\r\n\t\tfont-size: 30upx;\r\n\t}\r\n\t.xy-product-price{\r\n\t\tcolor: #e65339;\r\n\t\tfont-size: 30upx;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\t.xy-product-slogan{\r\n\t\tcolor: #807c87;\r\n\t\tfont-size: 24upx;\r\n\t}\r\n\t.xy-loading-text{\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\theight: 60upx;\r\n\t\tcolor: #979797;\r\n\t\tfont-size: 24upx;\r\n\t}\r\n\t\r\n\t/*带圆形边框的按钮*/\r\n\t.circleBtn{\r\n\t\tbox-shadow: 0upx 5upx 10upx rgba(0,0,0,0.4);\r\n\t\twidth: 70%;\r\n\t\theight: 80upx;\r\n\t\tborder-radius: 80upx;\r\n\t\tbackground-color: #8bbce7;\r\n\t\tcolor: #fff;\r\n\t\tdisplay: flex;\r\n\t\toverflow: hidden;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tfont-size: 30upx;\r\n\t}\r\n\t.circleBtn-icon{\r\n\t\theight: 80upx;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 30upx;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\t/*二等分原型按钮*/\r\n\t.circleBtn-two{\r\n\t\twidth: 102%;\r\n\t\theight: 80upx;\r\n\t\tcolor: #fff;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tfont-size: 28upx;\r\n\t}\r\n\t/*普通按钮*/\r\n\t.defaultBtn{\r\n\t\tbackground-color: #8bbce7;\r\n\t\tpadding: 10upx 30upx;\r\n/* \t\theight: 50upx; */\r\n\t\tcolor:#FFFFFF;\r\n\t\tborder-radius: 30upx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n</style>\r\n","import mod from \"-!C:\\\\Users\\\\pxy\\\\Downloads\\\\HBuilderX.2.1.3.20190723.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\Users\\\\pxy\\\\Downloads\\\\HBuilderX.2.1.3.20190723.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!C:\\\\Users\\\\pxy\\\\Downloads\\\\HBuilderX.2.1.3.20190723.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\Users\\\\pxy\\\\Downloads\\\\HBuilderX.2.1.3.20190723.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\pxy\\\\Downloads\\\\HBuilderX.2.1.3.20190723.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\Users\\\\pxy\\\\Downloads\\\\HBuilderX.2.1.3.20190723.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\pxy\\\\Downloads\\\\HBuilderX.2.1.3.20190723.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!C:\\\\Users\\\\pxy\\\\Downloads\\\\HBuilderX.2.1.3.20190723.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\Users\\\\pxy\\\\Downloads\\\\HBuilderX.2.1.3.20190723.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!C:\\\\Users\\\\pxy\\\\Downloads\\\\HBuilderX.2.1.3.20190723.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\Users\\\\pxy\\\\Downloads\\\\HBuilderX.2.1.3.20190723.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\pxy\\\\Downloads\\\\HBuilderX.2.1.3.20190723.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\Users\\\\pxy\\\\Downloads\\\\HBuilderX.2.1.3.20190723.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\pxy\\\\Downloads\\\\HBuilderX.2.1.3.20190723.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin","export default {\r\n\tgetLocalTime (nS){//时间戳转字符到日期\r\n\t\treturn new Date(parseInt(nS) * 1000).toLocaleString().replace(/\\//g, \"-\").replace(/[上午|下午]([\\d\\:]*)/g, \"\");\r\n\t},\r\n\tgetTimeMinute(nS){//时间戳转字符到分\r\n\t\treturn new Date(parseInt(nS) * 1000).toLocaleString('chinese', {hour12: false}).replace(/\\//g, \"-\").replace(/(\\:\\d*)$/, \"\");\r\n\t},\r\n\tisEmpty(obj){//判断字符是否为空的方法\r\n\t\tif(typeof obj == \"undefined\" || obj == null || obj == \"\" || (obj.length>0 && obj.trim().length == 0)){\r\n\t\t\treturn true;\r\n\t\t}else{\r\n\t\t\treturn false;\r\n\t\t}\r\n\t},\r\n\tlogin(){\r\n\t\tconsole.log('啊啊啊啊地方');\r\n\t\t// uni.login({\r\n\t\t// \tprovider: 'weixin',\r\n\t\t// \tsuccess: function(loginRes) {\r\n\t\t// \t\tconsole.log('-------获取code-------');\r\n\t\t// \t\tconsole.log(loginRes.code);\r\n\t\t// \t\tgetSkeyAndOpenId(loginRes.code);\r\n\t\t// \t\treturn {isTrue:true};\r\n\t\t// \t}\r\n\t\t// });\r\n\t},\r\n\tgetSkeyAndOpenId(code){\r\n\t\tconsole.log(code);\r\n\t\t// this.$postRequest({\r\n\t\t// \turl: 'EShop/login',\r\n\t\t// \tdata: { jsCode:code },\r\n\t\t// \thasToken:false,\r\n\t\t// \tisLoad:false,\r\n\t\t// \tallSuccess: res => {\r\n\t\t// \t\tuni.setStorage({\r\n\t\t// \t\t\tkey:'skey',\r\n\t\t// \t\t\tdata:res.session_key\r\n\t\t// \t\t});\r\n\t\t// \t\tuni.setStorage({\r\n\t\t// \t\t\tkey:'token',\r\n\t\t// \t\t\tdata:res.token\r\n\t\t// \t\t});\r\n\t\t// \t}\r\n\t\t// });\r\n\t},\r\n\t\r\n\tfilterObj(arr){ //过滤为空的参数不传递\r\n\t\tlet objAr = {};\r\n\t\tfor (let i in arr) {\r\n\t\t\tlet k = i;\r\n\t\t\tlet value = arr[i];\r\n\t\t\tif (value instanceof Object || value instanceof Array) {\r\n\t\t\t\tif (value.length !== 0) {\r\n\t\t\t\t\tobjAr[k] = value;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (!isEmpty(value)) {\r\n\t\t\t\t\tobjAr[k] = value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn objAr;\r\n\t},\r\n\tDataType(tgt,type){//判断类型\r\n\t\tconst dataType = Object.prototype.toString.call(tgt).replace(/\\[object /g, \"\").replace(/\\]/g, \"\").toLowerCase();\r\n\t    return type ? dataType === type : dataType;\r\n\t},\r\n\tisFull(data){ //判断是否是空的\r\n\t\t if(DataType(data, \"object\")){//是对象\r\n\t\t\t if(!Object.keys(data).length){\r\n\t\t\t\t return true;\r\n\t\t\t }else{\r\n\t\t\t\t return false;\r\n\t\t\t }\t \r\n\t\t }else if(DataType(data, \"array\")){\r\n\t\t\t if(Array.isArray(data)&&!data.length){\r\n\t\t\t\t return true;\r\n\t\t\t }else{\r\n\t\t\t\treturn false;\r\n\t\t\t }\r\n\t\t }else \tif(typeof obj == \"undefined\" || obj == null || obj == \"\" || (obj.length>0 && obj.trim().length == 0)){\r\n\t\t\treturn true;\r\n\t\t}else{\r\n\t\t\treturn false;\r\n\t\t}\r\n\t},\r\n\tobjRemove(arr){ //对象数组的去重\r\n\t\tlet obj = {};\t\t\t\t \r\n\t\tarr = arr.reduce((cur, next) => {\r\n\t\t\tobj[next.id] ? \"\" : obj[next.id] = true && cur.push(next);\r\n\t\t\treturn cur;\r\n\t\t}, []);\r\n\t\treturn arr;\r\n\t},\r\n\tstrLen(str){ //判断字符串长度\r\n\t    let len = 0;    \r\n\t    for (let i=0; i<str.length; i++) {    \r\n\t        if (str.charCodeAt(i)>127 || str.charCodeAt(i)==94) {    \r\n\t             len += 2;    \r\n\t         } else {    \r\n\t             len ++;    \r\n\t         }    \r\n\t     }    \r\n\t    return len;    \r\n\t\r\n\t},\r\n\ttransfer(text){ //字符的转义\r\n\t      var s = \"\"; \r\n\t        if (text.length == 0) return \"\"; \r\n\t        s = text.replace(/&amp;/g, \"&\"); \r\n\t        s = s.replace(/&lt;/g, \"<\"); \r\n\t        s = s.replace(/&gt;/g, \">\"); \r\n\t        s = s.replace(/&nbsp;/g, \" \"); \r\n\t        s = s.replace(/&#39;/g, \"\\'\"); \r\n\t        s = s.replace(/&quot;/g, \"\\\"\"); \r\n\t        s = s.replace(/<br\\/>/g, \"\\n\"); \r\n\t        return s; \r\n\t},\r\n\t/* 数字转整数 如 100000 转为10万\r\n\t         * @param {需要转化的数} num \r\n\t         * @param {需要保留的小数位数} point \r\n\t        */\r\n\ttranNumber(num, point){\r\n\t\t\tlet integer = parseInt(num);\r\n\t        let numStr = integer.toString();\r\n\t        if (numStr.length < 6) {//十万以内直接返回 \r\n\t            return numStr + '元';\r\n\t        }else if (numStr.length > 8) { //大于8位数是亿\r\n\t            let decimal = numStr.substring(numStr.length - 8, numStr.length - 8 + point);\r\n\t            return parseFloat(parseInt(integer / 100000000) + '.' + decimal) + '亿';\r\n\t        }else if (numStr.length > 5) {//大于6位数是十万 (以10W分割 10W以下全部显示)\r\n\t            let decimal = numStr.substring(numStr.length - 4, numStr.length - 4 + point)\r\n\t            return parseFloat(parseInt(integer / 10000) + '.' + decimal) + '万';\r\n\t        }\r\n\t\t}\r\n\t\r\n}\r\n\r\n//数组去重    \tlet arr = [1,2,2,3,3,4,4,5,5];let array = new Set(arr);let newArr = Array.from(array);\r\n//Math.round(new Date(this.prize.sign_end_time) / 1000) //日期转时间戳\r\n//let parentArr = newArr.filter(l => l.fid == 0)  //过滤","\r\nimport Vue from 'vue';\r\n\r\nconst vm = new Vue();\r\n\r\nimport tools from '../tool/toolBox.js'\r\n//异步获取全局变量\r\nconst asynGlobal = new Promise(resolve => {\r\n\tsetTimeout(() => {\r\n\t\tresolve(vm.$BASIC_URL);\r\n\t},10);\r\n});\r\ntools.login();\r\n// const asynGlobal = 'http://m252t77964.wicp.vip:52923/';\r\n//判断本地是否存在token  没有就要重新请求\r\n// if(!wx.getStorageSync('token')){\r\n// \tasynGlobal.then(basicsUrl => {\r\n// \t\tuni.login({\r\n// \t\t\tprovider: 'weixin',\r\n// \t\t\tsuccess: function(loginRes) {\r\n// \t\t\t\tconsole.log(loginRes.code);\r\n// \t\t\t\twx.request({//获取sessionid\r\n// \t\t\t\t\turl: basicsUrl + 'EShop/login',\r\n// \t\t\t\t\tsuccess: res => {\r\n// \t\t\t\t\t\tif(res.data.code == 0){\r\n// \t\t\t\t\t\t\tconsole.log(res.data)\r\n// \t\t\t\t\t\t\twx.setStorageSync('token', res.data.token);\r\n// \t\t\t\t\t\t\twx.setStorageSync('skey', res.data.session_key);\r\n// \t\t\t\t\t\t}\r\n// \t\t\t\t\t}\r\n// \t\t\t\t});\r\n// \t\t\t}.bind(this)\r\n// \t\t});\r\n// \t\r\n// \t});\r\n// }\r\n// \r\n//设置错误日志\r\nlet setErrlog = (_url='', _msg='', _code='', _type='') => {\r\n\tlet obj = {\r\n\t\turl: _url,\r\n\t\tmsg: _msg,\r\n\t\tcode: _code,\r\n\t\ttype: _type,\r\n\t\t// time: vm.$getTimeMinute(new Date()).longDateSec\r\n\t}\r\n\t// vm.$store.state.errMsg.push(obj);\r\n}\r\n\r\n//改版后的请求方法\r\nexport const postRequest = (transmitObj) => {\r\n\t\r\n\tlet TOKEN = wx.getStorageSync('token');//获取sessionid\r\n\t\r\n\tlet PUBLIC_HEADER = {\r\n\t\t'content-type': 'application/json;charset=utf-8',//POST请求必须'application/x-www-form-urlencoded',\r\n\t};\r\n\t\r\n\t// let COOKIE_HEADER = {\r\n\t// \t'Cookie': 'PHPSESSID=' + SESSIONID,//请求头设置sessionid\r\n\t// };\r\n\t\r\n\tlet defaultParam = {\r\n\t\turl: '',//请求路径\r\n\t\tdata: {},//需要发送的数据\r\n\t\thasToken:true,\r\n\t\tisLoad: true,\r\n\t\tallSuccess: () => {},//完全成功回调\r\n\t\tallError: () => {},//所有错误回调\r\n\t\tsuccess: () => {},//成功回调\r\n\t\tcomplete: () => {}//接口调用结束的回调函数（调用成功、失败都会执行）\r\n\t};\r\n\t\r\n\tlet param = Object.assign({}, defaultParam, transmitObj);\r\n\tif(param.hasToken){\r\n\t\tPUBLIC_HEADER.token = TOKEN;\r\n\t}\t\r\n\tlet url = vm.$BASIC_URL + param.url;\r\n\t\r\n\tuni.getNetworkType({\r\n\t\tsuccess: res => {\r\n\t\t\tif(res.networkType == 'none'){\r\n\t\t\t\tif(param.isLoad){\r\n\t\t\t\t\tvm.$yLoading().hide();\r\n\t\t\t\t}\r\n\t\t\t\tuni.stopPullDownRefresh();//关闭下拉刷新\r\n\t\t\t\tparam.allError('网络异常');\r\n\t\t\t\tparam.complete('网络异常');\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '网络异常，请检查您的网络！',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 2500\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tuni.request({\r\n\t\t\t\turl,\r\n\t\t\t\tdata: param.data,\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\t// header: Object.assign({}, PUBLIC_HEADER, SESSIONID ? COOKIE_HEADER : {}),\r\n\t\t\t\theader: Object.assign({}, PUBLIC_HEADER),\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsole.info({\r\n\t\t\t\t\t\t'请求的接口': url,\r\n\t\t\t\t\t\t'发送的数据': param.data,\r\n\t\t\t\t\t\t'返回的数据': res,\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(res.statusCode == 200){\r\n\t\t\t\t\t\tif(res.data){\r\n\t\t\t\t\t\t\tif(res.data.code == 1){\r\n\t\t\t\t\t\t\t\tparam.allSuccess(res.data);//完全成功回调\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tparam.allError(res.data);\r\n\t\t\t\t\t\t\t\tsetErrlog(url, res.data.result, res.data.code, '后端接口报错');//设置错误日志\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: res.data.result || '未知错误！',\r\n\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\tduration: 2500\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tparam.allError(res);\r\n\t\t\t\t\t\tsetErrlog(url, res.errMsg, res.statusCode, 'API(request)报错');//设置错误日志\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '网络出错：'+res.statusCode,\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 2500\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tparam.success(res.data);\r\n\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\tfail: err => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tparam.allError(err);\r\n\t\t\t\t\t\r\n\t\t\t\t\tsetErrlog(url, err.errMsg, '', '接口调用失败');//设置错误日志\r\n\t\t\t\t\t\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请求超时！',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: res => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(param.isLoad){\r\n\t\t\t\t\t\tvm.$yLoading().hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tuni.stopPullDownRefresh();//关闭下拉刷新\r\n\t\t\t\t\t\r\n\t\t\t\t\tparam.complete(res);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\t\r\n}\r\n","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n\r\nVue.use(Vuex)\r\n\r\nconst store = new Vuex.Store({\r\n    state: {  \r\n        cartList:[]\r\n    },  \r\n    mutations: {  \r\n        setCartList(state, list) {  \r\n           state.cartList = list;\r\n        }\r\n    },\r\n     actions: {\r\n    \t setCart({commit},data){\r\n    \t\t commit('setCartList',data);\r\n    \t }\r\n     }\r\n})\r\n\r\nexport default store","/**\r\n * 使用选择器选择组件实例节点，返回匹配到的第一个组件实例对象\r\n * @param {String} selector 节点选择器\r\n * @param {Object} ctx 页面栈或组件的实例，默认为当前页面栈实例 \r\n 微信小程序中 有的情况是A->B页面  改变了B的数据 推出回到A的时候页面不刷新 所以可以用页面栈改变A页面的数据\r\n     //获取页面栈\r\n        var pages = getCurrentPages();//所有页面栈的数组\r\n        var Page = pages[pages.length - 1];//当前页\r\n          if(pages.length > 1){ //说明有上一页存在\r\n            //上一个页面实例对象\r\n            var prePage = pages[pages.length - 2];\r\n            //关键在这里，调用上一页的函数 小程序可以直接用  uni-app需要使用prePage.$vm.changeData(e.detail.value)\r\n            prePage.changeData(e.detail.value)//就可以调用上一页的函数改变了\r\n        }\r\n        \r\n */\r\nconst getCtx = (selector, ctx = getCurrentPages()[getCurrentPages().length - 1]) => {\r\n    const componentCtx = ctx.selectComponent(selector);\r\n    if(!componentCtx){\r\n        console.error('无法找到对应的组件（y）');\r\n    }\r\n    return componentCtx;\r\n}\r\n\r\nconst $yLoading = (selector = '#y-loading', ctx) => getCtx(selector, ctx);\r\n//搜索组件名叫y-loading的组件  此处组件在page.json/app.json处定义在了globalStyle的usingComponents里\r\nconst $yPrompt = (selector = '#y-prompt', ctx) => getCtx(selector, ctx);\r\n\r\nexport {\r\n    $yLoading,\r\n    $yPrompt\r\n}\r\n"],"sourceRoot":""}